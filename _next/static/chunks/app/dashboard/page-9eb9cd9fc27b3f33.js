(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{9716:(e,s,n)=>{Promise.resolve().then(n.bind(n,8499))},8499:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>j});var r=n(5155),t=n(7916),a=n(2087),o=n(5157),i=n(2948),c=n(2115),d=n(199),l=n(2508),g=n(1027),h=n(1567);let x=(0,g.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function u(e){let{className:s,variant:n,...t}=e;return(0,r.jsx)("div",{className:(0,h.cn)(x({variant:n}),s),...t})}var p=n(3312);function j(){let[e,s]=(0,c.useState)([]),[n,g]=(0,c.useState)(!1);(0,c.useEffect)(()=>{g(!0),h()},[]);let h=async()=>{try{let e=await d.A.listBookings();s(e.data.bookings)}catch(e){console.error("Error fetching bookings:",e)}},x=async e=>{try{await d.A.approveBookings(e),h()}catch(e){console.error("Error approving bookings:",e)}},j=async e=>{try{await d.A.deleteBookings(e),h()}catch(e){console.error("Error deleting bookings:",e)}};return n?(0,r.jsx)(t.A,{children:(0,r.jsxs)(i.GB,{children:[(0,r.jsx)(a.G,{}),(0,r.jsxs)(i.sF,{children:[(0,r.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,r.jsx)(i.x2,{className:"-ml-1"}),(0,r.jsx)(o.w,{orientation:"vertical",className:"mr-2 h-4"})]}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col gap-4 p-4",children:[(0,r.jsxs)("div",{className:"p-6 bg-slate-900 text-white rounded-xl shadow-lg",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Bookings"}),(0,r.jsx)("p",{className:"text-lg text-gray-300",children:"Manage all bookings efficiently with powerful tools and insights designed for admins."})]}),(0,r.jsxs)(l.XI,{children:[(0,r.jsx)(l.r6,{children:"List of all bookings"}),(0,r.jsx)(l.A0,{children:(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nd,{children:"ID"}),(0,r.jsx)(l.nd,{children:"User"}),(0,r.jsx)(l.nd,{children:"Email"}),(0,r.jsx)(l.nd,{children:"From"}),(0,r.jsx)(l.nd,{children:"To"}),(0,r.jsx)(l.nd,{children:"Status"}),(0,r.jsx)(l.nd,{children:"Actions"})]})}),(0,r.jsx)(l.BF,{children:e.map(e=>(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nA,{children:e.id}),(0,r.jsx)(l.nA,{children:e.user.name}),(0,r.jsx)(l.nA,{children:e.user.email}),(0,r.jsx)(l.nA,{children:new Date(e.fromDate).toLocaleString()}),(0,r.jsx)(l.nA,{children:new Date(e.toDate).toLocaleString()}),(0,r.jsx)(l.nA,{children:(0,r.jsx)(u,{variant:e.isApproved?"success":"destructive",children:e.isApproved?"Approved":"Pending"})}),(0,r.jsxs)(l.nA,{children:[(0,r.jsx)(p.$,{variant:"success",className:"mr-2",onClick:()=>x(e.id),children:"Approve"}),(0,r.jsx)(p.$,{variant:"destructive",onClick:()=>j(e.id),children:"Delete"})]})]},e.id))})]})]})]})]})}):null}},199:(e,s,n)=>{"use strict";n.d(s,{A:()=>t});var r=n(3226);let t={booking:async e=>r.A.axios.post("/bookings",e).then(e=>({status:200,data:e.data})).catch(e=>({status:e.response.status,message:e.response.message||"Booking failed"})),listBookings:async()=>r.A.axios.get("/bookings").then(e=>({status:200,data:e.data})).catch(e=>({status:e.response.status,message:e.response.message||"Fetching bookings failed"})),approveBookings:async e=>r.A.axios.patch("/bookings/".concat(e,"/approve"),{}).then(e=>({status:200,data:e.data})).catch(e=>({status:e.response.status,message:e.response.message||"Error Approving Bookings"})),deleteBookings:async e=>r.A.axios.delete("/bookings/".concat(e)).then(e=>({status:200,data:e.data})).catch(e=>({status:e.response.status,message:e.response.message||"Error Approving Bookings"}))}}},e=>{var s=s=>e(e.s=s);e.O(0,[238,249,87,573,0,441,517,358],()=>s(9716)),_N_E=e.O()}]);